# 生产环境特定配置
server.port=${SERVER_PORT:8080}

# 数据库配置 - 使用环境变量
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:WGP_db}
spring.datasource.username=${DB_USERNAME:sagasama}
spring.datasource.password=${DB_PASSWORD:cznb6666}

# CORS 配置 - 允许生产域名
# 支持多个前端域名，用逗号分隔
spring.web.cors.allowed-origins=${FRONTEND_URL:http://your-domain.com,http://localhost:5173}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# 生产环境日志级别
logging.level.com.backend.be=INFO

# 生产环境优化
spring.jpa.hibernate.ddl-auto=validate  # 生产环境不自动创建表
spring.jpa.properties.hibernate.show-sql=false

# 生产环境性能优化
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000
