# 默认配置 - 所有环境共享
spring.application.name=be

# 默认使用开发环境
spring.profiles.active=dev

# 数据库驱动
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA 配置
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# 暴露 actuator 端点，包括 health
management.endpoints.web.exposure.include=health
# 显示 health 的详细信息（包括数据库状态）
management.endpoint.health.show-details=always

# PageHelper 配置
pagehelper.helperDialect=postgresql
pagehelper.reasonable=true
pagehelper.supportMethodsArguments=true
pagehelper.params=count=countSql

# 启用Spring Session JDBC自动建表
spring.session.jdbc.initialize-schema=always

# 或者使用更通用的配置
spring.sql.init.mode=always

# 放宽查询字符串（?后的参数）中的特殊字符限制
server.tomcat.relaxed-query-chars=|,{,},[,],^,\\
# 放宽路径中的特殊字符限制
server.tomcat.relaxed-path-chars=|,{,},[,],^,\\

# MyBatis 配置
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
mybatis-plus.mapper-locations=classpath:mapper/*.xml
mybatis.configuration.map-underscore-to-camel-case=true

# 服务器配置，用于解决中文乱码问题
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true
server.servlet.encoding.enabled=true

# 高德地图API配置
# 请在此处配置您的高德地图API密钥
amap.api.key=5fd59257ae4eaa57765509d74b88a505
amap.api.base-url=https://restapi.amap.com